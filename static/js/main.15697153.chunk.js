(this["webpackJsonpdocsvision-test"]=this["webpackJsonpdocsvision-test"]||[]).push([[0],{129:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(33),i=n.n(a),s=n(151),o=n(13),u="SET_PLACES_TREE",l="SET_INVENTORIES",d="SET_PLACES_LOADING",j="SET_PLACES_LOADING_ERROR",b="SET_INVENTORIES_LOADING",p="SET_PLACES_LOADING_ERROR",f="SET_CURRENT_PLACE_ID",O="SET_IS_CURRENT_PLACE_LAST",x="REFETCH";function h(e,t,n,c){if(!e.findBFS(n.id)){e.add(n.id,n.name,c);var r=n.id;n.parts&&n.parts.length>0&&n.parts.forEach((function(n){var c=t.findIndex((function(e){return e.id===n})),a=t[c];h(e,t,a,r)}))}}var v=n(41),g=n(53),m=n(37),y=function e(t,n){Object(m.a)(this,e),this.id=void 0,this.name=void 0,this.parts=void 0,this.id=t,this.name=n,this.parts=[]},C=function(){function e(){Object(m.a)(this,e),this.root=void 0,this.root={id:"buildings",name:"\u0412\u0441\u0435 \u0437\u0434\u0430\u043d\u0438\u044f",parts:[]}}return Object(g.a)(e,[{key:"add",value:function(e,t,n){var c=new y(e,t),r=n?this.findBFS(n):this.findBFS("buildings");r&&r.parts.push(c)}},{key:"findBFS",value:function(e){this.root;var t=null;return this.traverseBFS((function(n){n.id===e&&(t=n)})),t}},{key:"traverseBFS",value:function(e){var t=[this.root];if(e)for(;t.length;){var n=t[0];t.shift(),e(n);var c,r=Object(v.a)(n.parts);try{for(r.s();!(c=r.n()).done;){var a=c.value;t.push(a)}}catch(i){r.e(i)}finally{r.f()}}}}]),e}(),S=n(30),I=n.n(S),E=n(48),k=n(81);k.a.initializeApp({apiKey:"AIzaSyD6DnGbVfdJlDJ_pEOUfDfTDJrA8j3lIs8",authDomain:"dv-inventory.firebaseapp.com",databaseURL:"https://dv-inventory.firebaseio.com",projectId:"dv-inventory",storageBucket:"dv-inventory.appspot.com",messagingSenderId:"130062240176",appId:"1:130062240176:web:ecbca5d29b37d25c6cee75"});var R=function(){var e=Object(E.a)(I.a.mark((function e(){var t,n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.a.firestore(),e.next=3,t.collection("places").get();case 3:return n=e.sent,c=n.docs.map((function(e){return{id:e.id,name:e.data().name,parts:e.data().parts&&e.data().parts.map((function(e){return e.id}))}})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=n(19);function w(e){return e.filter((function(e){return void 0!==e.id&&void 0!==e.name&&void 0!==e.count&&void 0!==e.placeId}))}var _=function(){var e=Object(E.a)(I.a.mark((function e(){var t,n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.a.firestore(),e.next=3,t.collection("inventory").get();case 3:return n=e.sent,c=n.docs.map((function(e){return{id:e.id&&e.id,name:e.data&&e.data().name,count:e.data&&e.data().count,placeId:e.data&&e.data().place&&e.data().place.id}})),e.abrupt("return",w(c));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(E.a)(I.a.mark((function e(t,n,c){var r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k.a.firestore(),e.next=3,r.collection("inventory").doc().set({name:t,count:n,place:r.collection("places").doc(c)});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),T=function(){var e=Object(E.a)(I.a.mark((function e(t){var n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k.a.firestore(),e.next=3,n.collection("inventory").doc(t).delete();case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(E.a)(I.a.mark((function e(t,n){var c,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=k.a.firestore(),e.next=3,c.collection("inventory").doc(t).update(Object(L.a)({},n));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(e){return{type:d,payload:e}},D=function(e){return{type:j,payload:e}},N=function(e){return{type:b,payload:e}},W=function(e){return{type:j,payload:e}},F=function(){return function(e){e(A(!0)),e(D(!1)),R().then((function(t){e(function(e){for(var t=new C,n=0;n<e.length;n++)h(t,e,e[n]);return{type:u,payload:t.root}}(t)),e(A(!1))})).catch((function(){return e(D(!0))}))}},B=function(){return function(e){e(N(!0)),e(W(!1)),_().then((function(t){e(function(e){return{type:l,payload:e}}(t)),e(N(!1))})).catch((function(){return e(W(!0))}))}},z=function(e){return{type:f,payload:e}},G=function(e){return{type:O,payload:e}},J=function(){return{type:x}},H=n(138),U=n(139),V=n(4),K=function(e){var t=e.left,n=e.right;return Object(V.jsxs)(H.a,{flex:"auto",children:[Object(V.jsx)(U.a,{flex:"30%",minW:"300px",bg:"green.50",children:t}),Object(V.jsx)(U.a,{flex:"70%",bg:"blue.50",children:n})]})},q=function(e){var t=e.left,n=e.right;return Object(V.jsxs)(H.a,{margin:"0 auto",minH:"100vh",maxW:"1400px",minW:"720px",flexDirection:"column",justifyContent:"space-between",children:[Object(V.jsx)(Q,{}),Object(V.jsx)(K,{left:t,right:n}),Object(V.jsx)(X,{})]})},Q=function(){return Object(V.jsx)(U.a,{h:"50px",bg:"gray.200",display:"flex",alignItems:"center",pl:"20px",children:"Header"})},X=function(){return Object(V.jsx)(U.a,{h:"50px",bg:"gray.200",display:"flex",alignItems:"center",pl:"20px",children:"Footer"})},Y=function(e){var t=e.onClick,n=e.children;return Object(V.jsx)(U.a,{onClick:t,as:"button",height:"24px",lineHeight:"1.2",transition:"all 0.2s cubic-bezier(.08,.52,.52,1)",border:"1px",px:"8px",borderRadius:"2px",fontSize:"14px",fontWeight:"semibold",bg:"#f5f6f7",borderColor:"#ccd0d5",color:"#4b4f56",_hover:{bg:"#ebedf0"},_active:{bg:"#dddfe2",transform:"scale(0.98)",borderColor:"#bec3c9"},_focus:{boxShadow:"0 0 1px 2px rgba(88, 144, 255, .75), 0 1px 1px rgba(0, 0, 0, .15)"},mr:"5px",children:n})},Z=n(152),$=function(){return Object(V.jsx)(H.a,{h:"200px",alignItems:"center",justifyContent:"center",children:Object(V.jsx)(Z.a,{})})},ee=n(153),te=n(140),ne=function(e){var t=e.title,n=e.text,c=e.onClose;return Object(V.jsxs)(ee.a,{status:"error",children:[Object(V.jsx)(ee.c,{}),Object(V.jsx)(ee.d,{mr:2,children:t}),Object(V.jsx)(ee.b,{children:n}),Object(V.jsx)(te.a,{position:"absolute",right:"8px",top:"8px",onClick:c})]})},ce=n(150),re=function(){var e=Object(o.c)((function(e){return e.placeReducer})),t=e.placesTree,n=e.isPlacesLoading;e.isPlacesLoadingError,e.currentPlaceId;return n?Object(V.jsx)($,{}):Object(V.jsx)(ce.a,{defaultIndex:[0],allowMultiple:!0,children:t&&ae(t)})};function ae(e){return e.parts.length>0?"buildings"===e.id?Object(V.jsx)(V.Fragment,{children:e.parts.map((function(e){return ae(e)}))}):Object(V.jsx)(le,{placeId:e.id,title:e.name,children:e.parts.map((function(e){return ae(e)}))},e.id):Object(V.jsx)(de,{id:e.id,name:e.name},e.id)}var ie=n(5),se=n(156);function oe(e,t){var n=[],c=function(e,t){var n=null;return ue(t,(function(t){t.id===e&&(n=t)})),n}(e,t);return ue(c,(function(e){n.push(e.id)})),n}function ue(e,t){if(null!==e){var n=[e];if(t)for(;n.length;){var c=n[0];n.shift(),t(c);var r,a=Object(v.a)(c.parts);try{for(a.s();!(r=a.n()).done;){var i=r.value;n.push(i)}}catch(s){a.e(s)}finally{a.f()}}}}var le=function(e){var t=e.placeId,n=e.title,r=e.children,a=Object(o.b)(),i=Object(c.useState)(!1),s=Object(ie.a)(i,2),u=s[0],l=s[1],d=Object(o.c)((function(e){return e.placeReducer})),j=d.currentPlaceId,b=d.inventories,p=d.placesTree;Object(c.useEffect)((function(){var e=oe(t,p),n=!1;b.forEach((function(t){e.includes(t.placeId)&&(n=!0)})),l(n)}),[b,t,p]);var f=t===j;return Object(V.jsxs)(ce.d,{placeid:t,pr:"0",children:[n&&Object(V.jsx)("h2",{children:Object(V.jsxs)(ce.b,{onClick:function(){a(z(t)),a(G(!1))},bg:f?"green.300":void 0,transition:"background .2s",_hover:{cursor:"pointer",bg:f?"green.300":"rgba(200, 200, 200, .5)",transition:"background .2s"},children:[Object(V.jsxs)(U.a,{flex:"1",textAlign:"left",p:"0",pl:"5px",children:[n," ",u&&Object(V.jsx)(se.a,{color:"green.800"})]}),Object(V.jsx)(ce.c,{})]})}),Object(V.jsx)(ce.e,{pr:"0",children:r})]})},de=function(e){var t=e.id,n=e.name,r=Object(o.b)(),a=Object(c.useState)(!1),i=Object(ie.a)(a,2),s=i[0],u=i[1],l=Object(o.c)((function(e){return e.placeReducer.currentPlaceId})),d=Object(o.c)((function(e){return e.placeReducer.inventories}));Object(c.useEffect)((function(){var e=!1;d.forEach((function(n){n.placeId===t&&(e=!0)})),u(e)}),[d,t]);var j=t===l;return Object(V.jsxs)(U.a,{bg:j?"green.300":void 0,onClick:function(){r(z(t)),r(G(!0))},flex:"1",mb:"10px",ml:"10px",textAlign:"left",p:"5px",pl:"10px",transition:"background .2s",_hover:{cursor:"pointer",bg:j?"green.300":"rgba(200, 200, 200, .5)",transition:"background .2s"},children:[n," ",s&&Object(V.jsx)(se.a,{color:"green.800"})]})},je=n(144),be=function(e){var t=e.id,n=e.name,c=e.count,r=e.onEditModalOpen,a=e.onDeleteModalOpen,i=Object(o.c)((function(e){return e.placeReducer.isCurrentPlaceLast}));return Object(V.jsxs)(je.b,{bg:"blue.200",p:2,display:"flex",minW:"400px",maxW:"1024px",justifyContent:"space-between",mb:"10px",flexWrap:"wrap",children:[Object(V.jsxs)(U.a,{display:"flex",justifyContent:"space-between",minW:"400px",flexWrap:"wrap",pr:"10px",children:[Object(V.jsxs)("span",{children:["\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435: ",Object(V.jsxs)("span",{style:{fontWeight:"bold"},children:[" ",n]})," "]}),Object(V.jsxs)("span",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ",Object(V.jsxs)("span",{style:{fontWeight:"bold"},children:[" ",c]})]})]}),i?Object(V.jsxs)(U.a,{display:"flex",flexWrap:"nowrap",children:[Object(V.jsx)(Y,{onClick:function(){return r(t,n,c)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(V.jsx)(Y,{onClick:function(){return a(t,n)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}):null]})},pe=function(e){var t=e.onEditModalOpen,n=e.onDeleteModalOpen,r=Object(c.useState)([]),a=Object(ie.a)(r,2),i=a[0],s=a[1],u=Object(o.c)((function(e){return e.placeReducer})),l=u.inventories,d=u.currentPlaceId,j=u.placesTree,b=u.isInventoriesLoading;Object(c.useEffect)((function(){var e=oe(d,j);s(e)}),[d,j]);var p=l.filter((function(e){return"buildings"===d||i.includes(e.placeId)}));return b?Object(V.jsx)($,{}):Object(V.jsx)(je.a,{children:p.map((function(e){return Object(V.jsx)(be,{id:e.id,name:e.name,count:e.count,onEditModalOpen:t,onDeleteModalOpen:n},e.id)}))})},fe=n(149),Oe=n(148),xe=n(54),he=n(145),ve=n(154),ge=n(155),me=function(e){var t=e.isOpen,n=e.onClose,r=e.currentPlaceId,a=Object(o.b)(),i=Object(fe.a)(),s=Object(c.useState)(""),u=Object(ie.a)(s,2),l=u[0],d=u[1],j=Object(c.useState)(!1),b=Object(ie.a)(j,2),p=b[0],f=b[1],O=Object(c.useState)(0),x=Object(ie.a)(O,2),h=x[0],v=x[1],g=Object(c.useState)(!1),m=Object(ie.a)(g,2),y=m[0],C=m[1];return Object(V.jsxs)(Oe.a,{isOpen:t,onClose:n,children:[Object(V.jsx)(Oe.g,{}),Object(V.jsxs)(Oe.d,{children:[Object(V.jsx)(Oe.f,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(V.jsx)(Oe.c,{}),Object(V.jsxs)(Oe.b,{pb:6,children:[Object(V.jsxs)(xe.a,{children:[Object(V.jsx)(he.a,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(V.jsx)(ve.a,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:function(e){d(e.currentTarget.value),f(!1)},value:l}),p&&Object(V.jsx)(ne,{title:"\u041e\u0448\u0438\u0431\u043a\u0430!",text:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!",onClose:function(){return f(!1)}})]}),Object(V.jsxs)(xe.a,{mt:4,children:[Object(V.jsx)(he.a,{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(V.jsx)(ve.a,{type:"number",placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",onChange:function(e){v(Number(e.currentTarget.value)),C(!1)},value:h.toString()}),y&&Object(V.jsx)(ne,{title:"\u041e\u0448\u0438\u0431\u043a\u0430!",text:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e!",onClose:function(){return C(!1)}})]})]}),Object(V.jsxs)(Oe.e,{children:[Object(V.jsx)(ge.a,{colorScheme:"blue",mr:3,onClick:function(){""===l&&f(!0),0===h&&C(!0),""!==l&&0!==h&&P(l,h,r).then((function(){v(0),d(""),a(J()),n(),i({title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435.",description:"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e.",status:"success",duration:5e3,isClosable:!0})})).catch((function(){n(),i({title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435.",description:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435.",status:"error",duration:5e3,isClosable:!0})}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(V.jsx)(ge.a,{onClick:n,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},ye=function(e){var t=e.isOpen,n=e.onClose,r=e.editModalId,a=e.editModalName,i=e.editModalCount,s=Object(o.b)(),u=Object(fe.a)(),l=Object(c.useState)(a),d=Object(ie.a)(l,2),j=d[0],b=d[1],p=Object(c.useState)(!1),f=Object(ie.a)(p,2),O=f[0],x=f[1],h=Object(c.useState)(i),v=Object(ie.a)(h,2),g=v[0],m=v[1],y=Object(c.useState)(!1),C=Object(ie.a)(y,2),S=C[0],I=C[1];Object(c.useEffect)((function(){b(a),m(i)}),[a,i]);return Object(V.jsxs)(Oe.a,{isOpen:t,onClose:n,children:[Object(V.jsx)(Oe.g,{}),Object(V.jsxs)(Oe.d,{children:[Object(V.jsx)(Oe.f,{children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(V.jsx)(Oe.c,{}),Object(V.jsxs)(Oe.b,{pb:6,children:[Object(V.jsxs)(xe.a,{children:[Object(V.jsx)(he.a,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(V.jsx)(ve.a,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:function(e){b(e.currentTarget.value),x(!1)},value:j}),O&&Object(V.jsx)(ne,{title:"\u041e\u0448\u0438\u0431\u043a\u0430!",text:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435!",onClose:function(){return x(!1)}})]}),Object(V.jsxs)(xe.a,{mt:4,children:[Object(V.jsx)(he.a,{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(V.jsx)(ve.a,{type:"number",placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",onChange:function(e){m(Number(e.currentTarget.value)),I(!1)},value:g.toString()}),S&&Object(V.jsx)(ne,{title:"\u041e\u0448\u0438\u0431\u043a\u0430!",text:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e!",onClose:function(){return I(!1)}})]})]}),Object(V.jsxs)(Oe.e,{children:[Object(V.jsx)(ge.a,{colorScheme:"blue",mr:3,onClick:function(){(""===j&&x(!0),0===g&&I(!0),""!==j&&0!==g)&&M(r,{name:j,count:g}).then((function(){s(J()),n(),u({title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435.",description:"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e.",status:"success",duration:5e3,isClosable:!0})})).catch((function(){n(),u({title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435.",description:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435.",status:"error",duration:5e3,isClosable:!0})}))},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(V.jsx)(ge.a,{onClick:n,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},Ce=n(146),Se=function(e){var t=e.isOpen,n=e.onClose,c=e.deleteModalId,r=e.deleteModalName,a=Object(o.b)(),i=Object(fe.a)();return Object(V.jsxs)(Oe.a,{isOpen:t,onClose:n,children:[Object(V.jsx)(Oe.g,{}),Object(V.jsxs)(Oe.d,{children:[Object(V.jsx)(Oe.f,{children:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(V.jsx)(Oe.c,{}),Object(V.jsx)(Oe.b,{children:Object(V.jsxs)(Ce.a,{children:["\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ",r,"?"]})}),Object(V.jsxs)(Oe.e,{children:[Object(V.jsx)(ge.a,{colorScheme:"blue",mr:3,onClick:n,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(V.jsx)(ge.a,{colorScheme:"red",onClick:function(){T(c).then((function(){a(J()),n(),i({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435.",description:"\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e.",status:"success",duration:5e3,isClosable:!0})})).catch((function(){n(),i({title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435.",description:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435.",status:"error",duration:5e3,isClosable:!0})}))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]})},Ie=n(147),Ee=function(){var e=Object(o.c)((function(e){return e.placeReducer})),t=e.isCurrentPlaceLast,n=e.currentPlaceId,r=Object(c.useState)(!1),a=Object(ie.a)(r,2),i=a[0],s=a[1],u=Object(c.useState)(!1),l=Object(ie.a)(u,2),d=l[0],j=l[1],b=Object(c.useState)(""),p=Object(ie.a)(b,2),f=p[0],O=p[1],x=Object(c.useState)(""),h=Object(ie.a)(x,2),v=h[0],g=h[1],m=Object(c.useState)(0),y=Object(ie.a)(m,2),C=y[0],S=y[1],I=Object(c.useState)(!1),E=Object(ie.a)(I,2),k=E[0],R=E[1],L=Object(c.useState)(""),w=Object(ie.a)(L,2),_=w[0],P=w[1],T=Object(c.useState)(""),M=Object(ie.a)(T,2),A=M[0],D=M[1];return Object(V.jsxs)(U.a,{p:2,children:[Object(V.jsxs)(H.a,{justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",children:[Object(V.jsx)(Ie.a,{size:"md",textAlign:"center",children:"\u0418\u043c\u0435\u044e\u0449\u0435\u0435\u0441\u044f \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"}),t&&Object(V.jsx)(ge.a,{onClick:function(){return s(!0)},bg:"green.300",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435"})]}),Object(V.jsx)(U.a,{pt:4,children:Object(V.jsx)(pe,{onEditModalOpen:function(e,t,n){O(e),g(t),S(n),j(!0)},onDeleteModalOpen:function(e,t){P(e),D(t),R(!0)}})}),Object(V.jsx)(me,{isOpen:i,onClose:function(){return s(!1)},currentPlaceId:n}),Object(V.jsx)(ye,{isOpen:d,onClose:function(){return j(!1)},editModalId:f,editModalName:v,editModalCount:C}),Object(V.jsx)(Se,{isOpen:k,onClose:function(){return R(!1)},deleteModalId:_,deleteModalName:A})]})},ke=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.placeReducer.shouldRefetch}));return Object(c.useEffect)((function(){e(F()),e(B())}),[e]),Object(c.useEffect)((function(){e(B())}),[t,e]),Object(V.jsx)(q,{left:Object(V.jsx)(re,{}),right:Object(V.jsx)(Ee,{})})};var Re=function(){return Object(V.jsx)(ke,{})},Le=n(43),we=n(105),_e={isCurrentPlaceLast:!1,currentPlaceId:"",placesTree:{id:"buildings",name:"\u0412\u0441\u0435 \u0437\u0434\u0430\u043d\u0438\u044f",parts:[]},isPlacesLoading:!1,isPlacesLoadingError:!1,inventories:[],isInventoriesLoading:!1,isInventoriesLoadingError:!1,shouldRefetch:!1},Pe=Object(Le.c)({placeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(L.a)(Object(L.a)({},e),{},{placesTree:t.payload});case d:return Object(L.a)(Object(L.a)({},e),{},{isPlacesLoading:t.payload});case j:return Object(L.a)(Object(L.a)({},e),{},{isPlacesLoadingError:t.payload});case l:return Object(L.a)(Object(L.a)({},e),{},{inventories:t.payload});case b:return Object(L.a)(Object(L.a)({},e),{},{isInventoriesLoading:t.payload});case p:return Object(L.a)(Object(L.a)({},e),{},{isInventoriesLoadingError:t.payload});case f:return Object(L.a)(Object(L.a)({},e),{},{currentPlaceId:t.payload});case O:return Object(L.a)(Object(L.a)({},e),{},{isCurrentPlaceLast:t.payload});case x:return Object(L.a)(Object(L.a)({},e),{},{shouldRefetch:!e.shouldRefetch});default:return e}}}),Te=Object(Le.e)(Pe,Object(Le.d)(Object(Le.a)(we.a)));i.a.render(Object(V.jsx)(r.a.StrictMode,{children:Object(V.jsx)(o.a,{store:Te,children:Object(V.jsx)(s.a,{children:Object(V.jsx)(Re,{})})})}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.15697153.chunk.js.map